From: Romain Francoise <rfrancoise@debian.org>
Date: Thu, 24 Feb 2011 23:23:26 +0100
Subject: M-x report-emacs-bug includes the package version

---
 lisp/mail/emacsbug.el | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/lisp/mail/emacsbug.el b/lisp/mail/emacsbug.el
index 5dde90b..5b59ccc 100644
--- a/lisp/mail/emacsbug.el
+++ b/lisp/mail/emacsbug.el
@@ -237,6 +237,11 @@ usually do not have translators for other languages.\n\n")))
     (insert "\n\nIn " (emacs-version) "\n")
     (if (stringp emacs-repository-version)
 	(insert "Repository revision: " emacs-repository-version "\n"))
+    (insert " (emacs-snapshot package, version "
+           (substring (shell-command-to-string
+                       "dpkg -s emacs-snapshot-common | grep ^Version:")
+                      9 -1)
+           ")\n")
     (if (fboundp 'x-server-vendor)
 	(condition-case nil
             ;; This is used not only for X11 but also W32 and others.
